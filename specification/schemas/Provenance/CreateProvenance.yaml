type: object
description: A resource to contain the digital signature attached to a prescription.
properties:
  resourceType:
    type: string
    description: FHIR resource type.
    default: "Provenance"
  target:
    type: array
    description: | 
      Reference object to identify the line items in a prescription that are being signed.

      A reference to each MedicationRequest resource in the Bundle must be provided.
    items:
      type: object
      properties:
        reference:
          type: string
          description: A reference to a MedicationRequest resource in a Bundle.
          example: urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6
  recorded:
    type: string
    description: The time the prescription was signed.
  agent:
    type: array
    description: | 
      A reference to the prescriber who signed the prescription, i.e. the author of the prescription.

      A PractitionerRole resource within the Bundle must be referenced. 
    items:
      type: object
      properties:
        who:
          type: object
          properties:
            reference:
              type: string
              description: A reference to a PractitionerRole resource within the Bundle.
              example: "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
  signature:
    type: array
    description: The Advanced Electronic Signature (AES) attached to a prescription. 
    items:
      type: object
      properties:
        type:
          type: array
          description: The type of signature attached to a prescription.
          items:
            type: object
            properties:
              system:
                type: string
                description: FHIR codesystem URN for signatures
                enum:
                  - "urn:iso-astm:E1762-95:2013"
              code:
                type: string
                enum:
                  - "1.2.840.10065.1.12.1.1"
        when:
          type: string
          description: The time the prescription was signed.
          example: "2022-08-21T17:02:39+00:00"
        who:
          type: object
          properties:
            reference:
              type: string
              description: |
                A reference to a PractitionerRole resource within the Bundle. 
            
                This will still be a reference to the prescriber who signed the prescription.
              example: "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        data:
          type: string
          description: An advanced electronic signature, which may be generated using the Signing Service.
