{
	"info": {
		"_postman_id": "c47c10e1-504e-4637-a595-a315f8dcf4d1",
		"name": "10b) Spine Error or Warning Codes",
		"description": "https://nhsd-confluence.digital.nhs.uk/display/APIMC/Error+Handling\r\n\r\nSpine ErrorOrWarning Codes:\r\n\r\n\r\nhttps://simplifier.net/NHSDigitalSpine/Spine-ErrorOrWarningCode\r\n\r\nCodeSystem: https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\r\n\r\n\r\n\r\nOld EPS Code\tNew EPS Code\tDisplay\tFHIR Issue Type\tResponse Code\tDefinition\r\n\r\n0007\r\nINVALID_RESOURCE_ID\r\n\r\nThe resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number.\tcode-invalid\t400\tThe resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number.\r\n\r\n0008\r\nMISSING_VALUE\r\nMissing value\tvalue\t400\tThere was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\r\n\r\n0099\r\nRESOURCE_VERSION_MISMATCH\r\nResource version mismatch\tconflict\t409\tThe resource version has changed since your last read, so the update has been rejected.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "0007 Patient not found",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "7fa32a31-4633-4909-898f-65337504bf60",
						"exec": [
							"console.log('base_url: ' + pm.environment.get('base_url'));\r",
							"\r",
							"console.log(\"Spine ErrorOrWarningCodes Displays - The resource ID was not valid. For example a NHS Number is presented which is not a valid NHS Number.\");\r",
							"\r",
							"pm.test(\"Status code is 400\", function () {\r",
							"    pm.response.to.have.status(400);\r",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "NHSD-Session-URID",
						"value": "1234",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": ""
				}
			},
			"response": []
		},
		{
			"name": "0008  Missing value",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "d11d42e7-84e1-412b-af01-51754788e905",
						"exec": [
							"console.log('base_url: ' + pm.environment.get('base_url'));\r",
							"\r",
							"console.log(\"Spine ErrorOrWarningCodes Displays - Missing value\");\r",
							"\r",
							"pm.test(\"Status code is 400\", function () {\r",
							"    pm.response.to.have.status(400);\r",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "NHSD-Session-URID",
						"value": "1234",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"resourceType\": \"Bundle\",\r\n  \"id\": \"F68CEA42-E8A0-D799-C874-163048F0D390\",\r\n  \"type\": \"collection\",\r\n  \"entry\": [\r\n    {\r\n      \"resource\": {\r\n        \"resourceType\": \"MedicationRequest\",\r\n        \"id\": \"A7B86F8D-1D81-FC28-E050-D20AE3A215F0\",\r\n        \"groupIdentifier\": {\r\n          \"extension\": [\r\n            {\r\n              \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-eps-parentPrescriptionId\",\r\n              \"valueIdentifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/prescription-parent-id\",\r\n                \"value\": \"A7B86F8D-1D02-FC28-E050-D20AE3A215F0\"\r\n              }\r\n            }\r\n          ],\r\n          \"system\": \"https://fhir.nhs.uk/Id/prescription-short-form\",\r\n          \"value\": \"4D62E6-D81015-07E5FD\"\r\n        },\r\n        \"category\": [\r\n          {\r\n            \"coding\": [\r\n              {\r\n                \"system\": \"urn:oid:2.16.840.1.113883.2.1.3.2.4.17.25\",\r\n                \"code\": \"0101\"\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        \"status\": \"active\",\r\n        \"intent\": \"order\",\r\n        \"medicationCodeableConcept\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"code\": \"15748611000001101\",\r\n              \"display\": \"DermaSilk round neck shirt adult female small (Espere Healthcare Ltd)\"\r\n            }\r\n          ]\r\n        },\r\n        \"dispenseRequest\": {\r\n          \"quantity\": {\r\n            \"value\": 1,\r\n            \"unit\": \"device\",\r\n            \"system\": \"http://snomed.info/sct\",\r\n            \"code\": \"3318711000001107\"\r\n          }\r\n        },\r\n        \"authoredOn\": \"2020-06-10T12:06:00+00:00\",\r\n        \"courseOfTherapyType\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PrescriptionType\",\r\n              \"code\": \"acute\",\r\n              \"display\": \"Acute\"\r\n            }\r\n          ]\r\n        },\r\n        \"dosageInstruction\": [\r\n          {\r\n            \"text\": \"As Directed\"\r\n          }\r\n        ],\r\n        \"subject\": {\r\n          \"reference\": \"urn:uuid:b96806f2-0e43-4046-30f3-bd444965afb3\"\r\n        },\r\n        \"encounter\": {\r\n          \"reference\": \"urn:uuid:fc695c22-87b4-42f2-84d1-9ca9fabf7389\"\r\n        },\r\n        \"requester\": {\r\n          \"reference\": \"urn:uuid:dbaa616b-e23c-4d53-0f82-b2d178db79ca\"\r\n        },\r\n        \"recorder\": {\r\n          \"reference\": \"urn:uuid:dbaa616b-e23c-4d53-0f82-b2d178db79ca\"\r\n        }\r\n      },\r\n      \"fullUrl\": \"urn:uuid:A7B86F8D-1D81-FC28-E050-D20AE3A215F0\"\r\n    },\r\n    {\r\n      \"resource\": {\r\n        \"resourceType\": \"MedicationRequest\",\r\n        \"id\": \"A7B86F8D-1D86-FC28-E050-D20AE3A215F0\",\r\n        \"groupIdentifier\": {\r\n          \"extension\": [\r\n            {\r\n              \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-eps-parentPrescriptionId\",\r\n              \"valueIdentifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/prescription-parent-id\",\r\n                \"value\": \"A7B86F8D-1D02-FC28-E050-D20AE3A215F0\"\r\n              }\r\n            }\r\n          ],\r\n          \"system\": \"https://fhir.nhs.uk/Id/prescription-short-form\",\r\n          \"value\": \"4D62E6-D81015-07E5FD\"\r\n        },\r\n        \"category\": [\r\n          {\r\n            \"coding\": [\r\n              {\r\n                \"system\": \"urn:oid:2.16.840.1.113883.2.1.3.2.4.17.25\",\r\n                \"code\": \"0101\"\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        \"status\": \"active\",\r\n        \"intent\": \"order\",\r\n        \"medicationCodeableConcept\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"code\": \"42111000001107\",\r\n              \"display\": \"Microgynon 30 tablets (Bayer Plc)\"\r\n            }\r\n          ]\r\n        },\r\n        \"dispenseRequest\": {\r\n          \"quantity\": {\r\n            \"value\": 63,\r\n            \"unit\": \"tablet\",\r\n            \"system\": \"http://snomed.info/sct\",\r\n            \"code\": \"428673006\"\r\n          }\r\n        },\r\n        \"authoredOn\": \"2020-06-10T12:06:00+00:00\",\r\n        \"courseOfTherapyType\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PrescriptionType\",\r\n              \"code\": \"acute\",\r\n              \"display\": \"Acute\"\r\n            }\r\n          ]\r\n        },\r\n        \"dosageInstruction\": [\r\n          {\r\n            \"text\": \"As Directed\"\r\n          }\r\n        ],\r\n        \"subject\": {\r\n          \"reference\": \"urn:uuid:b96806f2-0e43-4046-30f3-bd444965afb3\"\r\n        },\r\n        \"encounter\": {\r\n          \"reference\": \"urn:uuid:fc695c22-87b4-42f2-84d1-9ca9fabf7389\"\r\n        },\r\n        \"requester\": {\r\n          \"reference\": \"urn:uuid:dbaa616b-e23c-4d53-0f82-b2d178db79ca\"\r\n        },\r\n        \"recorder\": {\r\n          \"reference\": \"urn:uuid:dbaa616b-e23c-4d53-0f82-b2d178db79ca\"\r\n        }\r\n      },\r\n      \"fullUrl\": \"urn:uuid:A7B86F8D-1D86-FC28-E050-D20AE3A215F0\"\r\n    },\r\n    {\r\n      \"resource\": {\r\n        \"resourceType\": \"MedicationRequest\",\r\n        \"id\": \"A7B86F8D-1D8B-FC28-E050-D20AE3A215F0\",\r\n        \"groupIdentifier\": {\r\n          \"extension\": [\r\n            {\r\n              \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-eps-parentPrescriptionId\",\r\n              \"valueIdentifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/prescription-parent-id\",\r\n                \"value\": \"A7B86F8D-1D02-FC28-E050-D20AE3A215F0\"\r\n              }\r\n            }\r\n          ],\r\n          \"system\": \"https://fhir.nhs.uk/Id/prescription-short-form\",\r\n          \"value\": \"4D62E6-D81015-07E5FD\"\r\n        },\r\n        \"category\": [\r\n          {\r\n            \"coding\": [\r\n              {\r\n                \"system\": \"urn:oid:2.16.840.1.113883.2.1.3.2.4.17.25\",\r\n                \"code\": \"0101\"\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        \"status\": \"active\",\r\n        \"intent\": \"order\",\r\n        \"medicationCodeableConcept\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"code\": \"7138411000001109\",\r\n              \"display\": \"Nelaton catheter female 14Ch ZT02017182 (Unomedical Ltd)\"\r\n            }\r\n          ]\r\n        },\r\n        \"dispenseRequest\": {\r\n          \"quantity\": {\r\n            \"value\": 10,\r\n            \"unit\": \"catheter\",\r\n            \"system\": \"http://snomed.info/sct\",\r\n            \"code\": \"3319911000001101\"\r\n          }\r\n        },\r\n        \"authoredOn\": \"2020-06-10T12:06:00+00:00\",\r\n        \"courseOfTherapyType\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PrescriptionType\",\r\n              \"code\": \"acute\",\r\n              \"display\": \"Acute\"\r\n            }\r\n          ]\r\n        },\r\n        \"dosageInstruction\": [\r\n          {\r\n            \"text\": \"As Directed\"\r\n          }\r\n        ],\r\n        \"subject\": {\r\n          \"reference\": \"urn:uuid:b96806f2-0e43-4046-30f3-bd444965afb3\"\r\n        },\r\n        \"encounter\": {\r\n          \"reference\": \"urn:uuid:fc695c22-87b4-42f2-84d1-9ca9fabf7389\"\r\n        },\r\n        \"requester\": {\r\n          \"reference\": \"urn:uuid:dbaa616b-e23c-4d53-0f82-b2d178db79ca\"\r\n        },\r\n        \"recorder\": {\r\n          \"reference\": \"urn:uuid:dbaa616b-e23c-4d53-0f82-b2d178db79ca\"\r\n        }\r\n      },\r\n      \"fullUrl\": \"urn:uuid:A7B86F8D-1D8B-FC28-E050-D20AE3A215F0\"\r\n    },\r\n    {\r\n      \"resource\": {\r\n        \"resourceType\": \"MedicationRequest\",\r\n        \"id\": \"A7B86F8D-1D90-FC28-E050-D20AE3A215F0\",\r\n        \"groupIdentifier\": {\r\n          \"extension\": [\r\n            {\r\n              \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-eps-parentPrescriptionId\",\r\n              \"valueIdentifier\": {\r\n                \"system\": \"https://fhir.nhs.uk/Id/prescription-parent-id\",\r\n                \"value\": \"A7B86F8D-1D02-FC28-E050-D20AE3A215F0\"\r\n              }\r\n            }\r\n          ],\r\n          \"system\": \"https://fhir.nhs.uk/Id/prescription-short-form\",\r\n          \"value\": \"4D62E6-D81015-07E5FD\"\r\n        },\r\n        \"category\": [\r\n          {\r\n            \"coding\": [\r\n              {\r\n                \"system\": \"urn:oid:2.16.840.1.113883.2.1.3.2.4.17.25\",\r\n                \"code\": \"0101\"\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        \"status\": \"active\",\r\n        \"intent\": \"order\",\r\n        \"medicationCodeableConcept\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"code\": \"20988311000001103\",\r\n              \"display\": \"Optifast shake oral powder 54g sachets (Flavour Not Specified)\"\r\n            }\r\n          ]\r\n        },\r\n        \"dispenseRequest\": {\r\n          \"quantity\": {\r\n            \"value\": 54,\r\n            \"unit\": \"sachet\",\r\n            \"system\": \"http://snomed.info/sct\",\r\n            \"code\": \"3318911000001109\"\r\n          }\r\n        },\r\n        \"authoredOn\": \"2020-06-10T12:06:00+00:00\",\r\n        \"courseOfTherapyType\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PrescriptionType\",\r\n              \"code\": \"acute\",\r\n              \"display\": \"Acute\"\r\n            }\r\n          ]\r\n        },\r\n        \"dosageInstruction\": [\r\n          {\r\n            \"text\": \"As Directed\"\r\n          }\r\n        ],\r\n        \"subject\": {\r\n          \"reference\": \"urn:uuid:b96806f2-0e43-4046-30f3-bd444965afb3\"\r\n        },\r\n        \"encounter\": {\r\n          \"reference\": \"urn:uuid:fc695c22-87b4-42f2-84d1-9ca9fabf7389\"\r\n        },\r\n        \"requester\": {\r\n          \"reference\": \"urn:uuid:dbaa616b-e23c-4d53-0f82-b2d178db79ca\"\r\n        },\r\n        \"recorder\": {\r\n          \"reference\": \"urn:uuid:dbaa616b-e23c-4d53-0f82-b2d178db79ca\"\r\n        }\r\n      },\r\n      \"fullUrl\": \"urn:uuid:A7B86F8D-1D90-FC28-E050-D20AE3A215F0\"\r\n    },\r\n    {\r\n      \"resource\": {\r\n        \"resourceType\": \"Patient\",\r\n        \"id\": \"b96806f2-0e43-4046-30f3-bd444965afb3\",\r\n        \"identifier\": [\r\n          {\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"9453740586\"\r\n          }\r\n        ],\r\n        \"gender\": \"unknown\",\r\n        \"birthDate\": \"1977-03-27\",\r\n        \"name\": [\r\n          {\r\n            \"use\": \"official\",\r\n            \"family\": \"PENSON\",\r\n            \"given\": [\r\n              \"HEADLEY\",\r\n              \"TED\"\r\n            ],\r\n            \"prefix\": [\r\n              \"MR\"\r\n            ]\r\n          }\r\n        ],\r\n        \"address\": [\r\n          {\r\n            \"use\": \"home\",\r\n            \"type\": \"both\",\r\n            \"line\": [\r\n              \"10 CRECY CLOSE\"\r\n            ],\r\n            \"city\": \"DERBY\",\r\n            \"postalCode\": \"DE22 3JU\"\r\n          }\r\n        ],\r\n        \"generalPractitioner\": [\r\n          {\r\n            \"reference\": \"urn:uuid:dbaa616b-e23c-4d53-0f82-b2d178db79ca\"\r\n          }\r\n        ]\r\n      },\r\n      \"fullUrl\": \"urn:uuid:b96806f2-0e43-4046-30f3-bd444965afb3\"\r\n    },\r\n    {\r\n      \"resource\": {\r\n        \"resourceType\": \"PractitionerRole\",\r\n        \"id\": \"dbaa616b-e23c-4d53-0f82-b2d178db79ca\",\r\n        \"practitioner\": {\r\n          \"reference\": \"urn:uuid:d4b569e7-ccf6-4bb2-029b-34b6f3e82acf\"\r\n        },\r\n        \"organization\": {\r\n          \"reference\": \"urn:uuid:b65dd3a2-9551-45a3-3e9d-342f8de14d8f\"\r\n        }\r\n      },\r\n      \"fullUrl\": \"urn:uuid:dbaa616b-e23c-4d53-0f82-b2d178db79ca\"\r\n    },\r\n    {\r\n      \"resource\": {\r\n        \"resourceType\": \"Practitioner\",\r\n        \"id\": \"d4b569e7-ccf6-4bb2-029b-34b6f3e82acf\",\r\n        \"identifier\": [\r\n          {\r\n            \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",\r\n            \"value\": \"8713353\"\r\n          },\r\n          {\r\n            \"system\": \"https://fhir.nhs.uk/Id/sds-job-role-id\",\r\n            \"value\": \"R0260\"\r\n          },\r\n          {\r\n            \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",\r\n            \"value\": \"100112897984\"\r\n          }\r\n        ],\r\n        \"name\": [\r\n          {\r\n            \"use\": \"official\",\r\n            \"family\": \"CHANDLER\",\r\n            \"given\": [\r\n              \"ANDREW\"\r\n            ]\r\n          }\r\n        ],\r\n        \"telecom\": [\r\n          {\r\n            \"system\": \"phone\",\r\n            \"value\": \"tel:01945700223\",\r\n            \"use\": \"work\"\r\n          }\r\n        ]\r\n      },\r\n      \"fullUrl\": \"urn:uuid:d4b569e7-ccf6-4bb2-029b-34b6f3e82acf\"\r\n    },\r\n    {\r\n      \"resource\": {\r\n        \"resourceType\": \"Encounter\",\r\n        \"id\": \"fc695c22-87b4-42f2-84d1-9ca9fabf7389\",\r\n        \"status\": \"finished\",\r\n        \"class\": {\r\n          \"system\": \"http://terminology.hl7.org/CodeSystem/v3-ActCode\",\r\n          \"code\": \"AMB\"\r\n        },\r\n        \"serviceProvider\": {\r\n          \"reference\": \"urn:uuid:b65dd3a2-9551-45a3-3e9d-342f8de14d8f\"\r\n        }\r\n      },\r\n      \"fullUrl\": \"urn:uuid:fc695c22-87b4-42f2-84d1-9ca9fabf7389\"\r\n    },\r\n    {\r\n      \"resource\": {\r\n        \"resourceType\": \"Organization\",\r\n        \"id\": \"b65dd3a2-9551-45a3-3e9d-342f8de14d8f\",\r\n        \"identifier\": [\r\n          {\r\n            \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n            \"value\": \"D81015\"\r\n          }\r\n        ],\r\n        \"type\": [\r\n          {\r\n            \"coding\": [\r\n              {\r\n                \"system\": \"urn:oid:2.16.840.1.113883.2.1.3.2.4.17.94\",\r\n                \"code\": \"001\",\r\n                \"display\": \"General Medical Practice\"\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        \"name\": \"PARSON DROVE SURGERY\",\r\n        \"telecom\": [\r\n          {\r\n            \"system\": \"phone\",\r\n            \"value\": \"tel:01945700223\",\r\n            \"use\": \"work\"\r\n          }\r\n        ],\r\n        \"address\": [\r\n          {\r\n            \"use\": \"work\",\r\n            \"type\": \"both\",\r\n            \"line\": [\r\n              \"240 MAIN ROAD\",\r\n              \"PARSON DROVE\"\r\n            ],\r\n            \"city\": \"WISBECH\",\r\n            \"district\": \"CAMBRIDGESHIRE\",\r\n            \"postalCode\": \"PE13 4JA\"\r\n          }\r\n        ],\r\n        \"partOf\": {\r\n          \"reference\": \"urn:uuid:cc850777-b73f-43cd-23f8-a41a7f1e8459\"\r\n        }\r\n      },\r\n      \"fullUrl\": \"urn:uuid:b65dd3a2-9551-45a3-3e9d-342f8de14d8f\"\r\n    },\r\n    {\r\n      \"resource\": {\r\n        \"resourceType\": \"Organization\",\r\n        \"id\": \"cc850777-b73f-43cd-23f8-a41a7f1e8459\",\r\n        \"identifier\": [\r\n          {\r\n            \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n            \"value\": \"5JK\"\r\n          }\r\n        ],\r\n        \"type\": [\r\n          {\r\n            \"coding\": [\r\n              {\r\n                \"system\": \"urn:oid:2.16.840.1.113883.2.1.3.2.4.17.94\",\r\n                \"code\": \"005\",\r\n                \"display\": \"Primary Care Trust\"\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        \"name\": \"GREATER DERBY PCT\"\r\n      },\r\n      \"fullUrl\": \"urn:uuid:cc850777-b73f-43cd-23f8-a41a7f1e8459\"\r\n    }\r\n  ]\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": ""
				}
			},
			"response": []
		},
		{
			"name": "0099 Resource version mismatch",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "efa1467e-1728-4351-9286-50772840cb5e",
						"exec": [
							"console.log('base_url: ' + pm.environment.get('base_url'));\r",
							"\r",
							"console.log(\"Spine ErrorOrWarningCodes Displays - Resource version mismatch\");\r",
							"\r",
							"pm.test(\"Status code is 409\", function () {\r",
							"    pm.response.to.have.status(409);\r",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "NHSD-Session-URID",
						"value": "1234",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}{{route}}/Convert ",
					"host": [
						"{{base_url}}{{route}}"
					],
					"path": [
						"Convert "
					]
				}
			},
			"response": []
		},
		{
			"name": "Gurdeep Example",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "d180b02f-dd86-4379-af16-5928ec94c967",
						"exec": [
							"{\r",
							"\t\"info\": {\r",
							"\t\t\"_postman_id\": \"3e66d349-ccad-41da-baea-3dab471f6421\",\r",
							"\t\t\"name\": \"Chris\",\r",
							"\t\t\"schema\": \"https://schema.getpostman.com/json/collection/v2.1.0/collection.json\"\r",
							"\t},\r",
							"\t\"item\": [\r",
							"\t\t{\r",
							"\t\t\t\"name\": \"Retrieve Patient - Error Responses Copy\",\r",
							"\t\t\t\"event\": [\r",
							"\t\t\t\t{\r",
							"\t\t\t\t\t\"listen\": \"test\",\r",
							"\t\t\t\t\t\"script\": {\r",
							"\t\t\t\t\t\t\"id\": \"365a5cb2-d3f9-4d60-8a52-14fbd07202db\",\r",
							"\t\t\t\t\t\t\"exec\": [\r",
							"\t\t\t\t\t\t\t\"/*assign local scenario variable from \\\"scenario\\\" variable set in prerequisite script and also assign header variables from variables*/\\r\",\r",
							"\t\t\t\t\t\t\t\"\\r\",\r",
							"\t\t\t\t\t\t\t\"let scenario = pm.variables.get('scenario');\\r\",\r",
							"\t\t\t\t\t\t\t\"let asidHeader = pm.variables.get(\\\"asidHeader\\\");\\r\",\r",
							"\t\t\t\t\t\t\t\"let sessionURIDHeader = pm.variables.get(\\\"sessionURIDHeader\\\");\\r\",\r",
							"\t\t\t\t\t\t\t\"let identityUUIDHeader = pm.variables.get(\\\"identityUUIDHeader\\\");\\r\",\r",
							"\t\t\t\t\t\t\t\"let authorization = pm.environment.get(\\\"authorizationHeader\\\");\\r\",\r",
							"\t\t\t\t\t\t\t\"let requestID = pm.environment.get('requestIdHeader');\\r\",\r",
							"\t\t\t\t\t\t\t\"\\r\",\r",
							"\t\t\t\t\t\t\t\"/*for each scenario dataSet loop the Retrieve Patient service and ensure the correct Error Reponse is returned for each scenario*/   \\r\",\r",
							"\t\t\t\t\t\t\t\"\\r\",\r",
							"\t\t\t\t\t\t\t\"  scenario.forEach(s => {\\r\",\r",
							"\t\t\t\t\t\t\t\"    console.log(\\\"scenario under test is: \\\" + s.desc);\\r\",\r",
							"\t\t\t\t\t\t\t\"\\r\",\r",
							"\t\t\t\t\t\t\t\"   pm.sendRequest({\\r\",\r",
							"\t\t\t\t\t\t\t\"        url: pm.environment.get(\\\"environment\\\") + \\\"/Patient/\\\" + s.nhs_id,\\r\",\r",
							"\t\t\t\t\t\t\t\"        method: 'GET',\\r\",\r",
							"\t\t\t\t\t\t\t\"        header: { asidHeader, sessionURIDHeader, identityUUIDHeader, authorization, requestID }\\r\",\r",
							"\t\t\t\t\t\t\t\"        \\r\",\r",
							"\t\t\t\t\t\t\t\"    }, function (err, res) {\\r\",\r",
							"\t\t\t\t\t\t\t\"        let response = res.json();\\r\",\r",
							"\t\t\t\t\t\t\t\"        pm.test('The correct error response has been returned for: ' + s.desc, () => {\\r\",\r",
							"\t\t\t\t\t\t\t\"            pm.expect(res.code).to.equal(s.responseStatus);\\r\",\r",
							"\t\t\t\t\t\t\t\"            pm.expect(response.issue[0].details.coding[0].display).to.equal(s.responseDisplay);\\r\",\r",
							"\t\t\t\t\t\t\t\"            pm.expect(response.issue[0].details.coding[0].code).to.equal(s.responseCode);\\r\",\r",
							"\t\t\t\t\t\t\t\"            pm.expect(response.issue[0].severity).to.equal(s.responseSeverity);\\r\",\r",
							"\t\t\t\t\t\t\t\"            pm.expect(response.issue[0].details.coding[0].system).to.equal('https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode');\\r\",\r",
							"\t\t\t\t\t\t\t\"            \\r\",\r",
							"\t\t\t\t\t\t\t\"        })\\r\",\r",
							"\t\t\t\t\t\t\t\"    })\\r\",\r",
							"\t\t\t\t\t\t\t\"\\r\",\r",
							"\t\t\t\t\t\t\t\"});\\r\",\r",
							"\t\t\t\t\t\t\t\"\"\r",
							"\t\t\t\t\t\t],\r",
							"\t\t\t\t\t\t\"type\": \"text/javascript\"\r",
							"\t\t\t\t\t}\r",
							"\t\t\t\t},\r",
							"\t\t\t\t{\r",
							"\t\t\t\t\t\"listen\": \"prerequest\",\r",
							"\t\t\t\t\t\"script\": {\r",
							"\t\t\t\t\t\t\"id\": \"5d24ae1a-bee4-47bc-bbad-2308043d7898\",\r",
							"\t\t\t\t\t\t\"exec\": [\r",
							"\t\t\t\t\t\t\t\"/*Create dataSets for testing 'Retrieve Patient' Error Exceptions scenarios and assign the \\\"scenario\\\" array to a variable to be used in Test*/ \\r\",\r",
							"\t\t\t\t\t\t\t\"  \\r\",\r",
							"\t\t\t\t\t\t\t\"   let scenario = [\\r\",\r",
							"\t\t\t\t\t\t\t\"       {desc: \\\"INVALIDATED_RESOURCE - invalidated NHS number (sensetive patient)\\\",  \\r\",\r",
							"\t\t\t\t\t\t\t\"        nhs_id: \\\"5900006107\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseStatus: 404, \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseIssueCode: \\\"value\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseSeverity: \\\"error\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseCode: \\\"INVALIDATED_RESOURCE\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseDisplay: \\\"Resource that has been marked as invalid was requested - invalid resources cannot be retrieved\\\"},\\r\",\r",
							"\t\t\t\t\t\t\t\"        \\r\",\r",
							"\t\t\t\t\t\t\t\"       {desc: \\\"INVALID_NHS_NUMBER - invalid check digit\\\",  \\r\",\r",
							"\t\t\t\t\t\t\t\"        nhs_id: \\\"9000000000\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseStatus: 400, \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseIssueCode: \\\"value\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseSeverity: \\\"error\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseCode: \\\"INVALID_RESOURCE_ID\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseDisplay: \\\"Resource Id is invalid\\\"},\\r\",\r",
							"\t\t\t\t\t\t\t\"        \\r\",\r",
							"\t\t\t\t\t\t\t\"       {desc: \\\"INVALID_NHS_NUMBER - too short\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        nhs_id: \\\"900000000\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseStatus: 400, \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseIssueCode: \\\"value\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseSeverity: \\\"error\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseCode: \\\"INVALID_RESOURCE_ID\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseDisplay: \\\"Resource Id is invalid\\\"},\\r\",\r",
							"\t\t\t\t\t\t\t\"        \\r\",\r",
							"\t\t\t\t\t\t\t\"      {desc: \\\"PATIENT_NOT_FOUND - NHS Number Does Not Exist\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        nhs_id: \\\"9111231130\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseStatus: 404, \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseIssueCode: \\\"not-found\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseSeverity: \\\"information\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseCode: \\\"RESOURCE_NOT_FOUND\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseDisplay: \\\"Resource not found\\\"},\\r\",\r",
							"\t\t\t\t\t\t\t\"        \\r\",\r",
							"\t\t\t\t\t\t\t\"        {desc: \\\"INVALID_NHS_NUMBER - not passed in\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        nhs_id: \\\"\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseStatus: 400, \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseIssueCode: \\\"processing\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseSeverity: \\\"error\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseCode: \\\"UNSUPPORTED_SERVICE\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseDisplay: \\\"Unsupported Service\\\"},\\r\",\r",
							"\t\t\t\t\t\t\t\"        \\r\",\r",
							"\t\t\t\t\t\t\t\"       {desc: \\\"RETRIEVAL_UNSUPPORTED\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        nhs_id: \\\"9111231130/nationality\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseStatus: 400, \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseIssueCode: \\\"processing\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseSeverity: \\\"error\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseCode: \\\"UNSUPPORTED_SERVICE\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseDisplay: \\\"Unsupported Service\\\"},\\r\",\r",
							"\t\t\t\t\t\t\t\"        \\r\",\r",
							"\t\t\t\t\t\t\t\"       {desc: \\\"INVALIDATED_NHS_NUMBER\\\", nhs_id: \\\"5900006107\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseStatus: 404, \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseIssueCode: \\\"processing\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseSeverity: \\\"error\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseCode: \\\"INVALIDATED_RESOURCE\\\", \\r\",\r",
							"\t\t\t\t\t\t\t\"        responseDisplay: \\\"Resource that has been marked as invalid was requested - invalid resources cannot be retrieved\\\"} \\r\",\r",
							"\t\t\t\t\t\t\t\"       ]\\r\",\r",
							"\t\t\t\t\t\t\t\"       \\r\",\r",
							"\t\t\t\t\t\t\t\"    pm.variables.set('scenario', scenario); \"\r",
							"\t\t\t\t\t\t],\r",
							"\t\t\t\t\t\t\"type\": \"text/javascript\"\r",
							"\t\t\t\t\t}\r",
							"\t\t\t\t}\r",
							"\t\t\t],\r",
							"\t\t\t\"request\": {\r",
							"\t\t\t\t\"method\": \"GET\",\r",
							"\t\t\t\t\"header\": [\r",
							"\t\t\t\t\t{\r",
							"\t\t\t\t\t\t\"key\": \"{{nhsd-asid-header}}\",\r",
							"\t\t\t\t\t\t\"type\": \"text\",\r",
							"\t\t\t\t\t\t\"value\": \"{{from_asid}}\"\r",
							"\t\t\t\t\t},\r",
							"\t\t\t\t\t{\r",
							"\t\t\t\t\t\t\"key\": \"{{nhsd-session-urid-header}}\",\r",
							"\t\t\t\t\t\t\"type\": \"text\",\r",
							"\t\t\t\t\t\t\"value\": \"{{role_id}}\"\r",
							"\t\t\t\t\t},\r",
							"\t\t\t\t\t{\r",
							"\t\t\t\t\t\t\"key\": \"{{nhsd-identity-uuid-header}}\",\r",
							"\t\t\t\t\t\t\"type\": \"text\",\r",
							"\t\t\t\t\t\t\"value\": \"{{user_id}}\"\r",
							"\t\t\t\t\t}\r",
							"\t\t\t\t],\r",
							"\t\t\t\t\"url\": {\r",
							"\t\t\t\t\t\"raw\": \"{{environment}}/Patient/:nhs_id\",\r",
							"\t\t\t\t\t\"host\": [\r",
							"\t\t\t\t\t\t\"{{environment}}\"\r",
							"\t\t\t\t\t],\r",
							"\t\t\t\t\t\"path\": [\r",
							"\t\t\t\t\t\t\"Patient\",\r",
							"\t\t\t\t\t\t\":nhs_id\"\r",
							"\t\t\t\t\t],\r",
							"\t\t\t\t\t\"variable\": [\r",
							"\t\t\t\t\t\t{\r",
							"\t\t\t\t\t\t\t\"key\": \"nhs_id\",\r",
							"\t\t\t\t\t\t\t\"value\": \"{{nshID}}\",\r",
							"\t\t\t\t\t\t\t\"type\": \"string\"\r",
							"\t\t\t\t\t\t}\r",
							"\t\t\t\t\t]\r",
							"\t\t\t\t},\r",
							"\t\t\t\t\"description\": \"Invalid Retrieve Patient calls shall result in a valid Error Response\"\r",
							"\t\t\t},\r",
							"\t\t\t\"response\": []\r",
							"\t\t},\r",
							"\t\t{\r",
							"\t\t\t\"name\": \"Add: Invalid start date to Patient returns INVALID_VALUE\",\r",
							"\t\t\t\"event\": [\r",
							"\t\t\t\t{\r",
							"\t\t\t\t\t\"listen\": \"test\",\r",
							"\t\t\t\t\t\"script\": {\r",
							"\t\t\t\t\t\t\"id\": \"78be29f6-25b0-4ab2-83c1-dd38cd16efb2\",\r",
							"\t\t\t\t\t\t\"exec\": [\r",
							"\t\t\t\t\t\t\t\"const POLLER = eval(pm.globals.get(\\\"PDSUpdateMessageRetrieve\\\"));\",\r",
							"\t\t\t\t\t\t\t\"\",\r",
							"\t\t\t\t\t\t\t\"pm.test('Patch Response returned 202', () => {\",\r",
							"\t\t\t\t\t\t\t\"    pm.expect(pm.response.code).to.eql(202);\",\r",
							"\t\t\t\t\t\t\t\"})\",\r",
							"\t\t\t\t\t\t\t\"\",\r",
							"\t\t\t\t\t\t\t\"// Calling the Polling endpoint\",\r",
							"\t\t\t\t\t\t\t\"POLLER.retrieveMessage(pm.response, true);\",\r",
							"\t\t\t\t\t\t\t\"\",\r",
							"\t\t\t\t\t\t\t\"setTimeout(function () {    \",\r",
							"\t\t\t\t\t\t\t\"    let response = pm.variables.get(\\\"pdsUpdateErrorResponse\\\")\",\r",
							"\t\t\t\t\t\t\t\"    \",\r",
							"\t\t\t\t\t\t\t\"    pm.test('Returns INVALID_VALUE error', () => {\",\r",
							"\t\t\t\t\t\t\t\"        pm.expect(response.issue[0].details.coding[0].code).to.equal(\\\"INVALID_VALUE\\\");\",\r",
							"\t\t\t\t\t\t\t\"        pm.expect(response.issue[0].details.coding[0].display).to.equal(\\\"Provided value is invalid\\\");\",\r",
							"\t\t\t\t\t\t\t\"        pm.expect(response.issue[0].diagnostics).to.equal(\\\"Invalid value - '20009-07-09' in field 'name/0/period/start'\\\");\",\r",
							"\t\t\t\t\t\t\t\"    });\",\r",
							"\t\t\t\t\t\t\t\"}, 3000);\"\r",
							"\t\t\t\t\t\t],\r",
							"\t\t\t\t\t\t\"type\": \"text/javascript\"\r",
							"\t\t\t\t\t}\r",
							"\t\t\t\t},\r",
							"\t\t\t\t{\r",
							"\t\t\t\t\t\"listen\": \"prerequest\",\r",
							"\t\t\t\t\t\"script\": {\r",
							"\t\t\t\t\t\t\"id\": \"2192123f-3e31-4bdc-9eb0-9593387705e1\",\r",
							"\t\t\t\t\t\t\"exec\": [\r",
							"\t\t\t\t\t\t\t\"\"\r",
							"\t\t\t\t\t\t],\r",
							"\t\t\t\t\t\t\"type\": \"text/javascript\"\r",
							"\t\t\t\t\t}\r",
							"\t\t\t\t}\r",
							"\t\t\t],\r",
							"\t\t\t\"request\": {\r",
							"\t\t\t\t\"method\": \"PATCH\",\r",
							"\t\t\t\t\"header\": [\r",
							"\t\t\t\t\t{\r",
							"\t\t\t\t\t\t\"key\": \"If-Match\",\r",
							"\t\t\t\t\t\t\"type\": \"text\",\r",
							"\t\t\t\t\t\t\"value\": \"W/\\\"3\\\"\"\r",
							"\t\t\t\t\t},\r",
							"\t\t\t\t\t{\r",
							"\t\t\t\t\t\t\"key\": \"Content-Type\",\r",
							"\t\t\t\t\t\t\"type\": \"text\",\r",
							"\t\t\t\t\t\t\"value\": \"application/json-patch+json\"\r",
							"\t\t\t\t\t},\r",
							"\t\t\t\t\t{\r",
							"\t\t\t\t\t\t\"key\": \"{{nhsd-asid-header}}\",\r",
							"\t\t\t\t\t\t\"type\": \"text\",\r",
							"\t\t\t\t\t\t\"value\": \"{{from_asid}}\"\r",
							"\t\t\t\t\t},\r",
							"\t\t\t\t\t{\r",
							"\t\t\t\t\t\t\"key\": \"{{nhsd-session-urid-header}}\",\r",
							"\t\t\t\t\t\t\"type\": \"text\",\r",
							"\t\t\t\t\t\t\"value\": \"{{role_id}}\"\r",
							"\t\t\t\t\t},\r",
							"\t\t\t\t\t{\r",
							"\t\t\t\t\t\t\"key\": \"{{nhsd-identity-uuid-header}}\",\r",
							"\t\t\t\t\t\t\"type\": \"text\",\r",
							"\t\t\t\t\t\t\"value\": \"{{user_id}}\"\r",
							"\t\t\t\t\t}\r",
							"\t\t\t\t],\r",
							"\t\t\t\t\"body\": {\r",
							"\t\t\t\t\t\"mode\": \"raw\",\r",
							"\t\t\t\t\t\"raw\": \"{\\n    \\\"patches\\\": [\\n      { \\\"op\\\": \\\"add\\\", \\\"path\\\": \\\"/name/0/id\\\", \\\"value\\\": \\\"69BB7C85\\\"},\\n      { \\\"op\\\": \\\"add\\\", \\\"path\\\": \\\"/name/0/period/start\\\", \\\"value\\\": \\\"20009-07-09\\\" }\\n    ]\\n}\",\r",
							"\t\t\t\t\t\"options\": {\r",
							"\t\t\t\t\t\t\"raw\": {\r",
							"\t\t\t\t\t\t\t\"language\": \"json\"\r",
							"\t\t\t\t\t\t}\r",
							"\t\t\t\t\t}\r",
							"\t\t\t\t},\r",
							"\t\t\t\t\"url\": {\r",
							"\t\t\t\t\t\"raw\": \"{{environment}}/Patient/5900020126\",\r",
							"\t\t\t\t\t\"host\": [\r",
							"\t\t\t\t\t\t\"{{environment}}\"\r",
							"\t\t\t\t\t],\r",
							"\t\t\t\t\t\"path\": [\r",
							"\t\t\t\t\t\t\"Patient\",\r",
							"\t\t\t\t\t\t\"5900020126\"\r",
							"\t\t\t\t\t]\r",
							"\t\t\t\t}\r",
							"\t\t\t},\r",
							"\t\t\t\"response\": []\r",
							"\t\t}\r",
							"\t],\r",
							"\t\"protocolProfileBehavior\": {}\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": ""
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "e59caafc-10d7-47d2-85b8-f7972b3c5ed8",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "36486126-ae2f-4d89-81d1-25fd3d7668cc",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"protocolProfileBehavior": {}
}